{
  "id": "DogMachine",
  "initial": "Sleeping",
  "version": "1.0",
  "states": {
    "Sleeping": {
      "entry": [
        "notifySleeping",
        "increaseEnergy"
      ],
      "exit": "notifyMovement",
      "on": {
        "NOISE": [
          {
            "target": "Awake",
            "cond": "isLoudNoise",
            "actions": "alert"
          },
          {
            "target": "Sleeping",
            "internal": false
          }
        ],
        "SMELLS": {
          "target": "Sniffing"
        },
        "DREAM": {
          "target": "Sleeping",
          "actions": "haveADream",
          "internal": false
        }
      }
    },
    "Awake": {
      "invoke": [
        {
          "src": "sendAppNotification"
        },
        {
          "src": "turnOnLights"
        }
      ],
      "on": {
        "HUNGRY": {
          "target": "Eating",
          "cond": "isEnergyLow"
        },
        "PLAY": {
          "target": "Playing"
        },
        "TIRED": [
          {
            "target": "Sleeping",
            "cond": "moreHungryThanTired",
            "actions": "goToEat"
          },
          {
            "target": "Sleeping"
          }
        ]
      }
    },
    "Eating": {
      "entry": "startEating",
      "exit": "stopEating",
      "on": {
        "FULL": {
          "target": "Awake",
          "actions": "increaseEnergy"
        }
      }
    },
    "Playing": {
      "entry": "startPlaying",
      "exit": "stopPlaying",
      "on": {
        "TIRED": {
          "target": "Sleeping",
          "cond": "isEnergyLow",
          "actions": "decreaseEnergy"
        },
        "HUNGRY": {
          "target": "Eating"
        }
      }
    },
    "Sniffing": {
      "entry": "startSniffing",
      "exit": "stopSniffing",
      "on": {
        "FOUND_SOMETHING_INTERESTING": {
          "target": "Investigating",
          "actions": "investigate"
        }
      }
    },
    "Investigating": {
      "entry": "startInvestigating",
      "exit": "stopInvestigating",
      "on": {
        "NOT_INTERESTED": {
          "target": "Awake",
          "actions": "loseInterest"
        }
      }
    }
  }
}